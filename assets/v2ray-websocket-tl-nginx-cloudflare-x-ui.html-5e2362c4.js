import{_ as t,r as c,o as l,c as s,f as r,a as e,b as i,d as a,w as n,e as u}from"./app-2c72f79b.js";const h={},p=e("h1",{id:"v2ray-websocket-ws-tls-nginx-cloudflare-x-ui-拯救被墙的-vps",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#v2ray-websocket-ws-tls-nginx-cloudflare-x-ui-拯救被墙的-vps","aria-hidden":"true"},"#"),i(" V2Ray+WebSocket(ws)+TLS+Nginx+Cloudflare+x-ui 拯救被墙的 VPS")],-1),g=e("p",null,[i("之前看着别人的教程写过一篇拯救搬瓦工被 Q 的文章，用的是"),e("code",null,"v2ray.fun"),i(" 的面板，后面因为某些原因脚本失效了，后面就换成了"),e("code",null,"v2-ui"),i("的可视化面板，之后发现该面板在 Github 上的项目也因为某些原因项目不存在了，后来又发现新的面板"),e("code",null,"x-ui"),i("，页面长的基本一样，不知道是不是同一个作者。接下来记录下具体的"),e("code",null,"x-ui"),i("面板的安装和使用。")],-1),m={class:"hint-container warning"},v=e("p",{class:"hint-container-title"},"注意",-1),b=e("code",null,"宝塔面板相关设置",-1),f=e("code",null,"Cloudflare",-1),x=e("code",null,"Proxy status",-1),_=e("h2",{id:"功能介绍",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#功能介绍","aria-hidden":"true"},"#"),i(" 功能介绍")],-1),k={href:"https://github.com/vaxilu/x-ui",target:"_blank",rel:"noopener noreferrer"},w=u(`<ul><li>系统状态监控</li><li>支持多用户多协议，网页可视化操作</li><li>支持的协议：vmess、vless、trojan、shadowsocks、dokodemo-door、socks、http</li><li>支持配置更多传输配置</li><li>流量统计，限制流量，限制到期时间</li><li>可自定义 xray 配置模板</li><li>支持 https 访问面板（自备域名 + ssl 证书）</li><li>支持一键 SSL 证书申请且自动续签</li></ul><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h2><p>可以在 VPS 上直接执行下面的脚本进行一键安装，安装过程中会要求输入用户名、密码、端口信息，按需输入提供即可。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">bash</span> <span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token function">curl</span> <span class="token parameter variable">-Ls</span> https://raw.githubusercontent.com/vaxilu/x-ui/master/install.sh<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>安装完成后可以输入命令<code>x-ui</code>来查看面板的状态和操作面板。</p><figure><img src="https://image.liubing.me/2022/12/26/87835a432b73e.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><p>如果面板状态不是<code>已运行</code>，可以使用内置的命令进行输入相应的序号进行启动或重启面板操作。</p><p>最后在防火墙中放行上面设定的端口号。宝塔面板用户在<code>安全</code>中添加放行端口号。</p><h2 id="面板访问" tabindex="-1"><a class="header-anchor" href="#面板访问" aria-hidden="true">#</a> 面板访问</h2><p>通过该地址<code>http://vps地址:端口号/</code>进行面板访问，将<code>vps地址</code>和<code>端口号</code>换成你们自己的。如果没啥意外的话就能看到登录页面了。</p><div class="hint-container warning"><p class="hint-container-title">注意</p><p>如果面板登录页面无法访问，请检查下<code>端口号</code>是否放行，或者面板状态是否是<code>已运行</code>状态。</p></div><figure><img src="https://image.liubing.me/2022/12/26/c7ccce9fa55f4.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><h2 id="账号配置" tabindex="-1"><a class="header-anchor" href="#账号配置" aria-hidden="true">#</a> 账号配置</h2><p>登录面板后打开入站列表页面，点击<code>+</code>号新增账号。</p><figure><img src="https://image.liubing.me/2022/12/26/964f79ba67ea5.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><p>按<code>vmess</code>协议配置如下信息：</p><ul><li><code>备注</code> 自己随便填写</li><li><code>协议</code> 选择<code>vmess</code></li><li><code>端口</code> 填写<code>https</code>支持的端口</li></ul><div class="hint-container warning"><p class="hint-container-title">注意</p><p>Cloudflare 支持的<code>https</code>端口号有限，建议使用非 443 的端口。<br><img src="https://image.liubing.me/2022/12/26/ec5eb32247043.png" alt="image" loading="lazy"></p></div><ul><li><code>id</code> 一个合法的 <code>UUID</code>，添加的时候会自动生成，可以不用管</li><li><code>额外 ID</code> 配置一个 1-65535 之间的值</li><li><code>传输</code> 选择<code>ws</code></li><li><code>路径</code> 填入<code>/ws/</code></li><li><code>请求头名称</code> 填写<code>Host</code></li><li><code>请求头值</code> 填写准备好的域名</li><li><code>tls</code> 处于开启状态</li><li><code>域名</code> 同上<code>请求头值</code></li><li><code>证书</code> 可以选择<code>路径</code>或者<code>文件内容</code></li></ul><div class="hint-container tip"><p class="hint-container-title">提示</p><p>选择<code>路径</code>的话需要将 Cloudflare 的证书密钥文件保存到服务器上的某个位置，然后将路径填上。<br> 选择<code>文件内容</code>的话可以直接将密钥内容粘贴到输入框里面去。</p></div><figure><img src="https://image.liubing.me/2022/12/26/c2ee266c508b6.png" alt="image" tabindex="0" loading="lazy"><figcaption>image</figcaption></figure><h2 id="从-v2-ui-迁移" tabindex="-1"><a class="header-anchor" href="#从-v2-ui-迁移" aria-hidden="true">#</a> 从 v2-ui 迁移</h2><p>如果之前安装过<code>v2-ui</code>面板，可以使用下方的命令很快速的将之前的节点配置快速迁移过来，<code>面板设置和用户名密码不会迁移</code>。</p><div class="hint-container warning"><p class="hint-container-title">注意</p><p>迁移成功后请 <code>关闭 v2-ui</code>并且 <code>重启 x-ui</code>，否则 <code>v2-ui</code> 的 <code>inbound</code> 会与 <code>x-ui</code> 的 <code>inbound</code> 会产生端口冲突。</p></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>x-ui v2-ui
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="结语" tabindex="-1"><a class="header-anchor" href="#结语" aria-hidden="true">#</a> 结语</h2>`,26),y=e("code",null,"v2ray 客户端下载",-1),C=e("div",{class:"hint-container danger"},[e("p",{class:"hint-container-title"},"警告"),e("p",null,[i("本教程仅做记录使用，所建节点仅用于编程学习需要，请勿用于非法用途。"),e("br"),i(" 本教程仅做记录使用，所建节点仅用于编程学习需要，请勿用于非法用途。"),e("br"),i(" 本教程仅做记录使用，所建节点仅用于编程学习需要，请勿用于非法用途。")])],-1);function V(L,N){const o=c("RouterLink"),d=c("ExternalLinkIcon");return l(),s("div",null,[p,g,r(" more "),e("div",m,[v,e("p",null,[i("前置教程请参考之前写过的已废弃的文章："),a(o,{to:"/article/v2ray/v2ray-websocket-tl-nginx-cloudflare-bandwagonhost.html"},{default:n(()=>[i("点击前往")]),_:1}),i("。只需要看到"),b,i("，将上述教程 "),f,i(" 中"),x,i("变灰的云朵重新弄成点亮状态。")])]),_,e("p",null,[i("可以参考该面板仓库 Github 仓库地址："),e("a",k,[i("点击访问"),a(d)])]),w,e("p",null,[i("最后就可以使用相应的工具验证节点是否可用了，具体工具可参考之前的"),a(o,{to:"/article/v2ray/v2ray-websocket-tl-nginx-cloudflare-bandwagonhost.html"},{default:n(()=>[i("教程")]),_:1}),i("中的"),y,i("。")]),C])}const z=t(h,[["render",V],["__file","v2ray-websocket-tl-nginx-cloudflare-x-ui.html.vue"]]);export{z as default};
